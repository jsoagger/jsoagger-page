<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>jsoagger.tech</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<a href="running-demo.html" class="logo"><strong>JSOAGGER</strong> Running demo application</a>
									<ul class="icons">
										<li><a href="https://github.com/jsoagger" class="icon brands fa-github"><span class="label">Github</span></a></li>
									</ul>
								</header>
							
							<section>
									<header>
										<h1>Overview </h1>
									</header>
									<header class="major">
										<h2>Docker hub</h2>
									</header>
									<p>
										Docker Hub is the world's largest library and community for container images.<br />
										All JSoagger official images are published under docker hub automatically from travic-CI. You can browse all of them from following url : https://hub.docker.com/u/jsoagger<br />
									</p>

									<header class="major">
										<h2>Docker compose</h2>
									</header>
									<p>
										Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application's services.<br />
										JSoagger is composed a least by following services:<br />
										<ul>
										 	<li>Database <br /></li>
											<li>Web UI <br /></li>
											<li>Command Line Interface <br /></li>									
											<li>Backend server<br /></li>	
										</ul>
										We are going to use docker-compose to manage these services and run the application.
									</p>																		
							</section>
							
							<section>
									<header>
										<h1>Compose services </h1>
									</header>							
									<header class="major">
										<h2>Create a compose script</h2>
									</header>
									<p>Create a file named 'compose-demo-app.yaml' and paste following script inside<p/>
									<p class="markdown-code">
version: '3.7'<br />
services:<br />

&nbsp;&nbsp;soagg-database:<br />
&nbsp;&nbsp;&nbsp;&nbsp;image: jsoagger/soagg-h2:latest<br />
&nbsp;&nbsp;&nbsp;&nbsp;restart: always<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 1521:1521<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 81:81<br />
    
&nbsp;&nbsp;&nbsp;&nbsp;volumes:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- $DATA_LOCATION:/opt/h2-data<br />
      
&nbsp;&nbsp;&nbsp;&nbsp;environment:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- DB_USER=$DB_USER<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- DB_PASSWORD=$DB_PASSWORD<br />
    
&nbsp;&nbsp;&nbsp;&nbsp;networks:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- soagg_network  <br />
      <br />  
     <br />          
&nbsp;&nbsp;soagg-foundation-srv:<br />
&nbsp;&nbsp;&nbsp;&nbsp;image: jsoagger/soagg-foundation-srv:latest<br />
&nbsp;&nbsp;&nbsp;&nbsp;restart: on-failure<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 8080:8080<br />
    
&nbsp;&nbsp;&nbsp;&nbsp;volumes:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- $SPRING_CONFIG_LOCATION_SRV:/spring-config/:ro<br />
      
&nbsp;&nbsp;&nbsp;&nbsp;depends_on:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- soagg-database<br />
          
&nbsp;&nbsp;&nbsp;&nbsp;networks:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- soagg_network  <br />
     <br />     
<br />
&nbsp;&nbsp;soagg-manager:<br />
&nbsp;&nbsp;&nbsp;&nbsp;image: jsoagger/soagg-manager:latest<br />
&nbsp;&nbsp;&nbsp;&nbsp;container_name: soagg-manager_1<br />
&nbsp;&nbsp;&nbsp;&nbsp;tty: true<br />
&nbsp;&nbsp;&nbsp;&nbsp;stdin_open: true<br />
&nbsp;&nbsp;&nbsp;&nbsp;environment:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- MANAGED_BACKEND_REST_URL=http://soagg-foundation-srv:8080/jsoagger<br />

&nbsp;&nbsp;&nbsp;&nbsp;volumes:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- $SPRING_CONFIG_LOCATION_MANAGER:/spring-config/:ro<br />

&nbsp;&nbsp;&nbsp;&nbsp;depends_on: <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- soagg-foundation-srv<br />

&nbsp;&nbsp;&nbsp;&nbsp;networks:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- soagg_network  <br />
<br />
     <br />     
&nbsp;&nbsp;soagg-webdev:<br />
&nbsp;&nbsp;&nbsp;&nbsp;image: jsoagger/soagg-webdev:latest<br />
&nbsp;&nbsp;&nbsp;&nbsp;container_name: soagg-webdev<br />
&nbsp;&nbsp;&nbsp;&nbsp;ports:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- '3001:3000'<br />
      
&nbsp;&nbsp;&nbsp;&nbsp;environment:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- NODE_ENV=development<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- CHOKIDAR_USEPOLLING=true<br />
                 
&nbsp;&nbsp;&nbsp;&nbsp;networks:<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- soagg_network  <br />
               <br />
networks:<br />
&nbsp;&nbsp;soagg_network:<br />
&nbsp;&nbsp;&nbsp;driver: "bridge"  <br />
  										
									</p>
									<header class="major">
										<h3>soagg-webdev service (jsoagger/soagg-h2:latest)</h3>
									</header>
									<p>
									
									</p>
									
									<header class="major">
										<h3>soagg-database service (jsoagger/soagg-webdev:latest)</h3>
									</header>
									<p>
									
									</p>
									
									<header class="major">
										<h3>soagg-foundation-srv service (jsoagger/soagg-foundation-srv:latest)</h3>
									</header>
									<p>
									
									</p>
									
									<header class="major">
										<h3>soagg-manager service (jsoagger/soagg-manager:latest)</h3>
									</header>
									<p>
									
									</p>
									
									<hr class="major" />
									
									<header class="major">
										<h2>Setup environment variables</h2>
									</header>
									<p class="markdown-code">
										> export DATA_LOCATION=<br />
										> export DB_USER=sa<br />
										> export DB_PASSWORD=
									</p>
									<p class="markdown-code">
										> export SPRING_CONFIG_LOCATION_SRV=
									</p>
									<p class="markdown-code">
										> export SPRING_CONFIG_LOCATION_MANAGER=
									</p>
							</section>
							
							<section>
									<header>
										<h1>Running </h1>
									</header>							
									<header class="major">
										<h2>Start services with docker-compose</h2>
									</header>
									<p class="markdown-code">docker-compose -f compose-dev.yaml up<p/>
									<p> Check services state by running 'docker ps", 4 services described above should be visible in result: </p>
									<p class="markdown-code">
										> docker ps<br />
										jsoagger/soagg-manager:xxx<br />
										jsoagger/soagg-foundation-srv:xxxx<br />
										jsoagger/soagg-webdev:xxxx<br />
										jsoagger/soagg-h2:xxxxx<br />
									</p>
									<hr class="major" />
																		
									<header class="major">
										<h2>Load foundation datas</h2>
									</header>
									<p>
										Before testing the application, datas and views must be uploaded to database. JSoagger has a container image named 'jsoagger/soagg-foundation-data', which is a one shot docker image that will load data to running backend service.<br />
										For that, run the following docker command:
									<p/>
									<p class="markdown-code">
										> docker run --rm --name soagg-foundation-data --network=soagg_network -v $SPRING_CONFIG_LOCATION_MANAGER:/spring-config/ jsoagger/soagg-foundation-data:latest
									</p>
									<hr class="major" />									
									
									<header class="major">
										<h2>Browse</h2>
									</header>
									<p>Open a web browser and type url : http://localhost:3000/jsoagger</p>
							</section>
						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Search -->
								<section id="search" class="alt">
									<a href="#" class="image"><img src="images/logo_Original_svg.svg" alt="JSOAGGER LOGO" width="300"/></a>
								</section>

							<!-- Menu -->
								<nav id="menu">
<!--								<header class="major">
										<h2>Menu</h2>
									</header>-->
									<ul>
										<li><a href="index.html">Home</a></li>
										<li><a href="getting-started.html">Getting started</a></li>																						
										<li><a href="running-demo.html">Running demo application</a></li>																																
										<li>
											<span class="opener">Business modules</span>
											<ul>
												<li><a href="elements.html">Lifecycle</a></li>
												<li><a href="elements.html">Versions history</a></li>
												<li><a href="elements.html">Content Holder</a></li>
												<li><a href="elements.html">User and principals</a></li>
												<li><a href="elements.html">Contactable</a></li>
												<li><a href="elements.html">Dynamical Types</a></li>
												<li><a href="elements.html">Batch data loader</a></li>
											</ul>
										</li>
										<li>
											<span class="opener">React UI</span>
											<ul>
												<li><a href="elements.html"></a></li>
											</ul>
										</li>
										<li>
											<span class="opener">JAVAFX UI</span>
											<ul>
												<li><a href="elements.html">Desktop integration</a></li>
												<li><a href="elements.html">Mobile integration</a></li>
												<li><a href="elements.html">Embedded devices</a></li>
											</ul>
										</li>
										
										<li><a href="generic.html">Command line interface</a></li>
										<li><a href="generic.html">Batch loader</a></li>										
										<li><a href="elements.html">Docker integration</a></li>
										<li><a href="elements.html">Continuous Delivery</a></li>
									</ul>
								</nav>

							<!-- Section -->
								<section>
									<header class="major">
										<h2>Get in touch</h2>
									</header>
									<p></p>
									<ul class="contact">
										<li class="icon solid fa-envelope"><a href="#">contact@nexitia.com</a></li>
										<li class="icon solid fa-phone">(000) 000-0000</li>
										<li class="icon solid fa-home">75015 Paris, France<br /></li>
									</ul>
								</section>

							<!-- Footer -->
								<footer id="footer">
									<p class="copyright">&copy; JSOAGGER. All rights reserved. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
								</footer>

						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>

